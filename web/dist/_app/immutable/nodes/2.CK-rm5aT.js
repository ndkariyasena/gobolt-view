import"../chunks/NZTpNUN0.js";import{i as q}from"../chunks/CtBw5jEp.js";import{p as z,f as b,t as h,h as e,a3 as A,b as l,c as E,s as d,d as o,r as i,m as v,i as s,a4 as G,e as D}from"../chunks/CfMaPf9q.js";import{i as w}from"../chunks/D3BJhYtH.js";import{r as H}from"../chunks/CToj7QW8.js";import{b as K}from"../chunks/DKNQTyOB.js";import{s as L}from"../chunks/uncB3AMX.js";function M(u){sessionStorage.setItem("db_config",JSON.stringify(u))}var Q=b('<span class="animate-pulse">Connectingâ€¦</span>'),R=b('<p class="mt-2 text-sm text-green-600"> </p>'),T=b('<p class="mt-2 text-sm text-red-600"> </p>'),U=b('<div class="card preset-filled-surface-100-900 bg-card mx-auto mt-10 w-full max-w-2xl max-w-md space-y-6 rounded-xl border p-4 p-6 text-center shadow-lg"><h1 class="h1 text-center">ðŸ”— Connect to Database</h1> <div><label for="db-path" class="text-muted-foreground mb-2 block text-sm font-medium">BoltDB File Path</label> <input id="db-path" type="text" placeholder="/path/to/database.db" class="input"/></div> <div class="flex justify-end"><button class="btn preset-tonal-primary"><!></button></div> <!> <!></div>');function at(u,F){z(F,!1);let y="",P="",p=v(""),m=v(""),n=v(""),c=v(!1);async function I(){s(c,!0),s(n,""),s(m,"");const t={dbName:y,dbPort:parseInt(P,10),dbFilePath:e(p)};try{const{data:a,status:r}=await L(t);console.log({data:a,status:r}),s(c,!1),a.message?s(m,a.message):s(n,a.error),r==200&&(M({dbName:y,dbPort:parseInt(P,10),dbFilePath:e(p)}),window.location.href="/bucket")}catch{s(n,"Something went wrong. Please try again")}}q();var x=U(),_=d(o(x),2),C=d(o(_),2);H(C),i(_);var g=d(_,2),f=o(g),N=o(f);{var S=t=>{var a=Q();l(t,a)},B=t=>{var a=G("Connect");l(t,a)};w(N,t=>{e(c)?t(S):t(B,!1)})}i(f),i(g);var k=d(g,2);{var j=t=>{var a=R(),r=o(a,!0);i(a),h(()=>D(r,e(m))),l(t,a)};w(k,t=>{e(m)&&t(j)})}var J=d(k,2);{var O=t=>{var a=T(),r=o(a,!0);i(a),h(()=>D(r,e(n))),l(t,a)};w(J,t=>{e(n)&&t(O)})}i(x),h(()=>f.disabled=e(c)),K(C,()=>e(p),t=>s(p,t)),A("click",f,I),l(u,x),E()}export{at as component};
