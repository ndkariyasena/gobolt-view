import"../chunks/NZTpNUN0.js";import{s as ke,o as Se}from"../chunks/Bpfgt1le.js";import{p as Z,f as L,i as c,aC as te,d as w,r as S,s as P,t as z,e as X,b as N,c as q,aU as _e,k as Ie,a as ve,n as De,g as we,aV as ne,v as oe,j as J}from"../chunks/C1Edc7dV.js";import{i as se}from"../chunks/CxJ1uyfW.js";import{e as ae,I as Oe,i as Re}from"../chunks/DikXzDES.js";import{a as Q,b as Pe,i as Ce,r as Me,c as Ne}from"../chunks/BMZcrs9R.js";import{b as Fe}from"../chunks/BAdnpIVk.js";import"../chunks/DdcjXsyC.js";import{p as I,s as Be,r as Ae}from"../chunks/vCAogZ7a.js";import{c as ye,a as Le,w as Ve,r as Y,u as be,b as He,t as Ue,d as ce,e as Ge,M as je,f as Ke,g as le,s as $,h as We,i as K,j as Te,n as Ee,k as ze,l as Qe}from"../chunks/D-9AhbJ2.js";import{g as Xe,a as Je}from"../chunks/D8UV-Kry.js";import{S as Ye}from"../chunks/DoDLjKYr.js";var Ze=He("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),W=Ze.build(),qe=e=>`toast-group:${e}`,ue=(e,t)=>e.getById(`toast-group:${t}`),xe=e=>`toast:${e.id}`,de=e=>e.getById(xe(e)),ge=e=>`toast:${e.id}:title`,me=e=>`toast:${e.id}:description`,$e=e=>`toast${e.id}:close`,fe={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function ee(e,t){return e??fe[t]??fe.DEFAULT}var et=e=>typeof e=="string"?{left:e,right:e,bottom:e,top:e}:e;function tt(e,t){const{prop:a,computed:s,context:r}=e,{offsets:n,gap:u}=a("store").attrs,d=r.get("heights"),f=et(n),T=a("dir")==="rtl",g=t.replace("-start",T?"-right":"-left").replace("-end",T?"-left":"-right"),v=g.includes("right"),k=g.includes("left"),m={position:"fixed",pointerEvents:s("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${u}px`,"--first-height":`${d[0]?.height||0}px`,zIndex:je};let y="center";if(v&&(y="flex-end"),k&&(y="flex-start"),m.alignItems=y,g.includes("top")){const E=f.top;m.top=`max(env(safe-area-inset-top, 0px), ${E})`}if(g.includes("bottom")){const E=f.bottom;m.bottom=`max(env(safe-area-inset-bottom, 0px), ${E})`}if(!g.includes("left")){const E=f.right;m.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${E})`}if(!g.includes("right")){const E=f.left;m.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${E})`}return m}function st(e,t){const{prop:a,context:s,computed:r}=e,n=a("parent"),u=n.computed("placement"),{gap:d}=n.prop("store").attrs,[f]=u.split("-"),T=s.get("mounted"),g=s.get("remainingTime"),v=r("height"),k=r("frontmost"),m=!k,y=!a("stacked"),E=a("stacked"),p=a("type")==="loading"?Number.MAX_SAFE_INTEGER:g,l=r("heightIndex")*d+r("heightBefore"),x={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${a("removeDelay")}ms`,"--duration":`${p}ms`,"--initial-height":`${v}px`,"--offset":`${l}px`,"--index":a("index"),"--z-index":r("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},h=B=>Object.assign(x,B);return f==="top"?h({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):f==="bottom"&&h({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),T&&(h({"--y":"0","--opacity":"1"}),E&&h({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),t||h({"--opacity":"0",pointerEvents:"none"}),m&&y&&(h({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),t||h({"--y":"calc(var(--sign) * 40%)"})),m&&E&&!t&&h({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),k&&!t&&h({"--y":"calc(var(--lift) * -100%)"}),x}function at(e,t){const{computed:a}=e,s={position:"absolute",inset:"0",scale:"1 2",pointerEvents:t?"none":"auto"},r=n=>Object.assign(s,n);return a("frontmost")&&!t&&r({height:"calc(var(--initial-height) + 80%)"}),s}function rt(){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function it(e,t){const{context:a,prop:s,send:r,refs:n,computed:u}=e;return{getCount(){return a.get("toasts").length},getToasts(){return a.get("toasts")},getGroupProps(d={}){const{label:f="Notifications"}=d,{hotkey:T}=s("store").attrs,g=T.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=u("placement"),[k,m="center"]=v.split("-");return t.element({...W.group.attrs,dir:s("dir"),tabIndex:-1,"aria-label":`${v} ${f} ${g}`,id:qe(v),"data-placement":v,"data-side":k,"data-align":m,"aria-live":"polite",role:"region",style:tt(e,v),onMouseMove(){r({type:"REGION.POINTER_ENTER",placement:v})},onMouseLeave(){r({type:"REGION.POINTER_LEAVE",placement:v})},onFocus(y){r({type:"REGION.FOCUS",target:y.relatedTarget})},onBlur(y){n.get("isFocusWithin")&&!Ge(y.currentTarget,y.relatedTarget)&&queueMicrotask(()=>r({type:"REGION.BLUR"}))}})},subscribe(d){return s("store").subscribe(()=>d(a.get("toasts")))}}}var nt=ye({props({props:e}){return{dir:"ltr",id:be(),...e,store:e.store}},initialState({prop:e}){return e("store").attrs.overlap?"overlap":"stack"},refs(){return{lastFocusedEl:null,isFocusWithin:!1,dismissableCleanup:void 0}},context({bindable:e}){return{toasts:e(()=>({defaultValue:[],sync:!0,hash:t=>t.map(a=>a.id).join(",")})),heights:e(()=>({defaultValue:[],sync:!0}))}},computed:{count:({context:e})=>e.get("toasts").length,overlap:({prop:e})=>e("store").attrs.overlap,placement:({prop:e})=>e("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:e,context:t,action:a}){e([()=>t.hash("toasts")],()=>{queueMicrotask(()=>{a(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:"isOverlapping",target:"overlap",actions:["collapseToasts","resumeToasts","restoreLastFocusedEl"]},{target:"stack",actions:["resumeToasts","restoreLastFocusedEl"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts","collapseToasts"]},{actions:["resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:e})=>e("overlap")},effects:{subscribeToStore({context:e,prop:t}){return t("store").subscribe(a=>{if(a.dismiss){e.set("toasts",s=>s.filter(r=>r.id!==a.id));return}e.set("toasts",s=>{const r=s.findIndex(n=>n.id===a.id);return r!==-1?[...s.slice(0,r),{...s[r],...a},...s.slice(r+1)]:[a,...s]})})},trackHotKeyPress({prop:e,send:t}){return ce(document,"keydown",s=>{const{hotkey:r}=e("store").attrs;r.every(u=>s[u]||s.code===u)&&t({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility({prop:e,send:t,scope:a}){const{pauseOnPageIdle:s}=e("store").attrs;if(!s)return;const r=a.getDoc();return ce(r,"visibilitychange",()=>{const n=r.visibilityState==="hidden";t({type:n?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:e,context:t,computed:a,scope:s}){const r=t.get("toasts"),n=a("placement"),u=r.length>0;if(!u){e.get("dismissableCleanup")?.();return}if(u&&e.get("dismissableCleanup"))return;const f=Ue(()=>ue(s,n),{defer:!0});e.set("dismissableCleanup",f)},clearDismissableBranch({refs:e}){e.get("dismissableCleanup")?.()},focusRegionEl({scope:e,computed:t}){queueMicrotask(()=>{ue(e,t("placement"))?.focus()})},pauseToasts({prop:e}){e("store").pause()},resumeToasts({prop:e}){e("store").resume()},expandToasts({prop:e}){e("store").expand()},collapseToasts({prop:e}){e("store").collapse()},removeToast({prop:e,event:t}){e("store").remove(t.id)},removeHeight({event:e,context:t}){e?.id!=null&&queueMicrotask(()=>{t.set("heights",a=>a.filter(s=>s.id!==e.id))})},collapsedIfEmpty({send:e,computed:t}){!t("overlap")||t("count")>1||e({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:e,event:t}){e.get("isFocusWithin")||!t.target||(e.set("isFocusWithin",!0),e.set("lastFocusedEl",t.target))},restoreLastFocusedEl({refs:e}){e.get("lastFocusedEl")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))},clearLastFocusedEl({refs:e}){e.get("lastFocusedEl")&&(e.get("lastFocusedEl")?.focus({preventScroll:!0}),e.set("lastFocusedEl",null),e.set("isFocusWithin",!1))}}}});function ot(e,t){const{state:a,send:s,prop:r,scope:n,context:u,computed:d}=e,f=a.hasTag("visible"),T=a.hasTag("paused"),g=u.get("mounted"),v=d("frontmost"),k=r("parent").computed("placement"),m=r("type"),y=r("stacked"),E=r("title"),F=r("description"),p=r("action"),[l,x="center"]=k.split("-");return{type:m,title:E,description:F,placement:k,visible:f,paused:T,closable:!!r("closable"),pause(){s({type:"PAUSE"})},resume(){s({type:"RESUME"})},dismiss(){s({type:"DISMISS",src:"programmatic"})},getRootProps(){return t.element({...W.root.attrs,dir:r("dir"),id:xe(n),"data-state":f?"open":"closed","data-type":m,"data-placement":k,"data-align":x,"data-side":l,"data-mounted":K(g),"data-paused":K(T),"data-first":K(v),"data-sibling":K(!v),"data-stack":K(y),"data-overlap":K(!y),role:"status","aria-atomic":"true","aria-describedby":F?me(n):void 0,"aria-labelledby":E?ge(n):void 0,tabIndex:0,style:st(e,f),onKeyDown(h){h.defaultPrevented||h.key=="Escape"&&(s({type:"DISMISS",src:"keyboard"}),h.preventDefault())}})},getGhostBeforeProps(){return t.element({"data-ghost":"before",style:at(e,f)})},getGhostAfterProps(){return t.element({"data-ghost":"after",style:rt()})},getTitleProps(){return t.element({...W.title.attrs,id:ge(n)})},getDescriptionProps(){return t.element({...W.description.attrs,id:me(n)})},getActionTriggerProps(){return t.button({...W.actionTrigger.attrs,type:"button",onClick(h){h.defaultPrevented||(p?.onClick?.(),s({type:"DISMISS",src:"user"}))}})},getCloseTriggerProps(){return t.button({id:$e(n),...W.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(h){h.defaultPrevented||s({type:"DISMISS",src:"user"})}})}}}var{not:ct}=Ke(),lt=ye({props({props:e}){return We(e,["id","type","parent","removeDelay"],"toast"),{closable:!0,...e,duration:ee(e.duration,e.type)}},initialState({prop:e}){return e("type")==="loading"||e("duration")===1/0?"visible:persist":"visible"},context({prop:e,bindable:t}){return{remainingTime:t(()=>({defaultValue:ee(e("duration"),e("type"))})),createdAt:t(()=>({defaultValue:Date.now()})),mounted:t(()=>({defaultValue:!1})),initialHeight:t(()=>({defaultValue:0}))}},refs(){return{closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}},computed:{zIndex:({prop:e})=>{const t=e("parent").context.get("toasts"),a=t.findIndex(s=>s.id===e("id"));return t.length-a},height:({prop:e})=>e("parent").context.get("heights").find(s=>s.id===e("id"))?.height??0,heightIndex:({prop:e})=>e("parent").context.get("heights").findIndex(a=>a.id===e("id")),frontmost:({prop:e})=>e("index")===0,heightBefore:({prop:e})=>{const t=e("parent").context.get("heights"),a=t.findIndex(s=>s.id===e("id"));return t.reduce((s,r,n)=>n>=a?s:s+r.height,0)},shouldPersist:({prop:e})=>e("type")==="loading"||e("duration")===1/0},watch({track:e,prop:t,send:a}){e([()=>t("message")],()=>{const s=t("message");s&&a({type:s,src:"programmatic"})}),e([()=>t("type"),()=>t("duration")],()=>{a({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:ct("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay({prop:e,send:t}){return $(()=>{t({type:"REMOVE",src:"timer"})},e("removeDelay"))},waitForDuration({send:e,context:t,computed:a}){if(!a("shouldPersist"))return $(()=>{e({type:"DISMISS",src:"timer"})},t.get("remainingTime"))},waitForNextTick({send:e}){return $(()=>{e({type:"SHOW",src:"timer"})},0)},trackHeight({scope:e,prop:t}){let a;return le(()=>{const s=de(e);if(!s)return;const r=()=>{const d=s.style.height;s.style.height="auto";const f=s.getBoundingClientRect().height;s.style.height=d;const T={id:t("id"),height:f};pe(t("parent"),T)},n=e.getWin(),u=new n.MutationObserver(r);u.observe(s,{childList:!0,subtree:!0,characterData:!0}),a=()=>u.disconnect()}),()=>a?.()}},guards:{isLoadingType:({prop:e})=>e("type")==="loading",shouldPersist:({computed:e})=>e("shouldPersist")},actions:{setMounted({context:e}){le(()=>{e.set("mounted",!0)})},measureHeight({scope:e,prop:t,context:a}){queueMicrotask(()=>{const s=de(e);if(!s)return;const r=s.style.height;s.style.height="auto";const n=s.getBoundingClientRect().height;s.style.height=r,a.set("initialHeight",n);const u={id:t("id"),height:n};pe(t("parent"),u)})},setCloseTimer({refs:e}){e.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:e,refs:t,prop:a}){t.set("closeTimerStartTime",Date.now()),e.set("remainingTime",ee(a("duration"),a("type")))},syncRemainingTime({context:e,refs:t}){e.set("remainingTime",a=>{const s=t.get("closeTimerStartTime"),r=Date.now()-s;return t.set("lastCloseStartTimerStartTime",Date.now()),a-r})},notifyParentToRemove({prop:e}){e("parent").send({type:"TOAST.REMOVE",id:e("id")})},invokeOnDismiss({prop:e,event:t}){e("onStatusChange")?.({status:"dismissing",src:t.src})},invokeOnUnmount({prop:e}){e("onStatusChange")?.({status:"unmounted"})},invokeOnVisible({prop:e}){e("onStatusChange")?.({status:"visible"})}}}});function pe(e,t){const{id:a,height:s}=t;e.context.set("heights",r=>r.find(u=>u.id===a)?r.map(u=>u.id===a?{...u,height:s}:u):[{id:a,height:s},...r])}var ut=(e,t)=>({...t,...Le(e)});function dt(e){const t=ut(e,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0});let a=[],s=[],r=new Set,n=[];const u=i=>(a.push(i),()=>{const o=a.indexOf(i);a.splice(o,1)}),d=i=>(a.forEach(o=>o(i)),i),f=i=>{if(s.length>=t.max){n.push(i);return}d(i),s.unshift(i)},T=()=>{for(;n.length>0&&s.length<t.max;){const i=n.shift();i&&(d(i),s.unshift(i))}},g=i=>{const o=i.id??`toast:${be()}`,M=s.find(R=>R.id===o);return r.has(o)&&r.delete(o),M?s=s.map(R=>R.id===o?d({...R,...i,id:o}):R):f({id:o,duration:t.duration,removeDelay:t.removeDelay,type:"info",...i,stacked:!t.overlap,gap:t.gap}),o},v=i=>(r.add(i),i?(a.forEach(o=>o({id:i,dismiss:!0})),s=s.filter(o=>o.id!==i),T()):(s.forEach(o=>{a.forEach(M=>M({id:o.id,dismiss:!0}))}),s=[],n=[]),i);return{attrs:t,subscribe:u,create:g,update:(i,o)=>g({id:i,...o}),remove:v,dismiss:i=>{i!=null?s=s.map(o=>o.id===i?d({...o,message:"DISMISS"}):o):s=s.map(o=>d({...o,message:"DISMISS"}))},error:i=>g({...i,type:"error"}),success:i=>g({...i,type:"success"}),info:i=>g({...i,type:"info"}),warning:i=>g({...i,type:"warning"}),loading:i=>g({...i,type:"loading"}),getVisibleToasts:()=>s.filter(i=>!r.has(i.id)),getCount:()=>s.length,promise:(i,o,M={})=>{if(!o||!o.loading){Ve("[zag-js > toast] toaster.promise() requires at least a 'loading' option to be specified");return}const R=g({...M,...o.loading,promise:i,type:"loading"});let j=!0,V;const D=Y(i).then(async b=>{if(V=["resolve",b],gt(b)&&!b.ok){j=!1;const C=Y(o.error,`HTTP Error! status: ${b.status}`);g({...M,...C,id:R,type:"error"})}else if(o.success!==void 0){j=!1;const C=Y(o.success,b);g({...M,...C,id:R,type:"success"})}}).catch(async b=>{if(V=["reject",b],o.error!==void 0){j=!1;const C=Y(o.error,b);g({...M,...C,id:R,type:"error"})}}).finally(()=>{j&&v(R),o.finally?.()});return{id:R,unwrap:()=>new Promise((b,C)=>D.then(()=>V[0]==="reject"?C(V[1]):b(V[1])).catch(C))}},pause:i=>{i!=null?s=s.map(o=>o.id===i?d({...o,message:"PAUSE"}):o):s=s.map(o=>d({...o,message:"PAUSE"}))},resume:i=>{i!=null?s=s.map(o=>o.id===i?d({...o,message:"RESUME"}):o):s=s.map(o=>d({...o,message:"RESUME"}))},isVisible:i=>!r.has(i)&&!!s.find(o=>o.id===i),isDismissed:i=>r.has(i),expand:()=>{s=s.map(i=>d({...i,stacked:!0}))},collapse:()=>{s=s.map(i=>d({...i,stacked:!1}))}}}var gt=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",he={connect:it,machine:nt},mt=L("<button>&times;</button>"),ft=L('<div><div data-testid="toast-message"><span> </span> <span> </span></div> <!></div>');function pt(e,t){Z(t,!0);const a=Te(lt,()=>({...t.toast,parent:t.parent,index:t.index})),s=te(()=>ot(a,Ee)),r=te(()=>{switch(c(s).type){case"success":return t.stateSuccess;case"warning":return t.stateWarning;case"error":return t.stateError;default:return t.stateInfo}});var n=ft();Q(n,m=>({class:`${t.base??""} ${t.width??""} ${t.padding??""} ${t.rounded??""} ${c(r)??""} ${t.classes??""}`,...m,"data-testid":"toast-root"}),[()=>c(s).getRootProps()],void 0,"svelte-vdfzso");var u=w(n),d=w(u);Q(d,m=>({class:`${t.titleBase??""} ${t.titleClasses??""}`,...m,"data-testid":"toast-title"}),[()=>c(s).getTitleProps()],void 0,"svelte-vdfzso");var f=w(d,!0);S(d);var T=P(d,2);Q(T,m=>({class:`${t.descriptionBase??""} ${t.descriptionClasses??""}`,...m,"data-testid":"toast-description"}),[()=>c(s).getDescriptionProps()],void 0,"svelte-vdfzso");var g=w(T,!0);S(T),S(u);var v=P(u,2);{var k=m=>{var y=mt();Q(y,E=>({class:`${t.btnDismissBase??""} ${t.btnDismissClasses??""}`,...E,"data-testid":"toast-dismiss"}),[()=>c(s).getCloseTriggerProps()],void 0,"svelte-vdfzso"),N(m,y)};se(v,m=>{c(s).closable&&m(k)})}S(n),z(()=>{Pe(u,1,`${t.messageBase??""} ${t.messageClasses??""}`),X(f,c(s).title),X(g,c(s).description)}),N(e,n),q()}var ht=L("<div></div>");function vt(e,t){const a=_e();Z(t,!0);const s=I(t,"base",3,"flex justify-between items-center gap-3"),r=I(t,"width",3,"min-w-xs"),n=I(t,"padding",3,"p-3"),u=I(t,"rounded",3,"rounded-container"),d=I(t,"classes",3,""),f=I(t,"messageBase",3,"grid"),T=I(t,"messageClasses",3,""),g=I(t,"titleBase",3,"font-semibold"),v=I(t,"titleClasses",3,""),k=I(t,"descriptionBase",3,"text-sm"),m=I(t,"descriptionClasses",3,""),y=I(t,"btnDismissBase",3,"btn-icon hover:preset-tonal"),E=I(t,"btnDismissClasses",3,""),F=I(t,"stateInfo",3,"preset-outlined-surface-200-800 preset-filled-surface-50-950"),p=I(t,"stateSuccess",3,"preset-filled-success-500"),l=I(t,"stateWarning",3,"preset-filled-warning-500"),x=I(t,"stateError",3,"preset-filled-error-500"),h=Te(he.machine,()=>({id:a,store:t.toaster})),B=te(()=>he.connect(h,Ee));var O=ht();Q(O,A=>({...A,"data-testid":"toaster-root"}),[()=>c(B).getGroupProps()]),ae(O,23,()=>c(B).getToasts(),A=>A.id,(A,H,U,G)=>{pt(A,{get base(){return s()},get width(){return r()},get padding(){return n()},get rounded(){return u()},get classes(){return d()},get messageBase(){return f()},get messageClasses(){return T()},get titleBase(){return g()},get titleClasses(){return v()},get descriptionBase(){return k()},get descriptionClasses(){return m()},get btnDismissBase(){return y()},get btnDismissClasses(){return E()},get stateInfo(){return F()},get stateError(){return x()},get stateWarning(){return l()},get stateSuccess(){return p()},get toast(){return c(H)},get index(){return c(U)},get parent(){return h}})}),S(O),N(e,O),q()}function yt(e){return e===void 0&&(e={}),dt(e)}function bt(e,t){Z(t,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let a=Ae(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z"}],["path",{d:"m12 9 6 6"}],["path",{d:"m18 9-6 6"}]];Oe(e,Be({name:"delete"},()=>a,{get iconNode(){return s},children:(r,n)=>{var u=Ie(),d=ve(u);ke(d,()=>t.children??De),N(r,u)},$$slots:{default:!0}})),q()}var Tt=(e,t)=>t(),Et=(e,t,a)=>t(e,c(a).id),xt=L("<option> </option>"),kt=(e,t,a)=>t(e,c(a).id),St=(e,t,a)=>t(c(a).id),_t=L('<pre class="h-75 overflow-y-auto whitespace-pre-wrap"> </pre>'),It=L('<p class="max-h-80 overflow-y-auto whitespace-pre-wrap break-words text-justify opacity-60"> </p>'),Dt=(e,t,a)=>t(Number(c(a).id)),wt=L('<button type="button" class="btn btn-sm preset-filled"><span>Delete</span> <!></button>'),Ot=L('<div class="space-y-3 rounded-2xl p-4 shadow-sm bg-slate-700 shadow-lg shadow-cyan-500/50"><div><label for="buckets-list" class="mb-1 block font-medium">Buckets</label> <select id="buckets-list" class="w-full rounded border p-2"></select></div> <div><label for="key-input" class="mb-1 block font-medium">Key Name</label> <input id="key-input" type="text" placeholder="Enter key" class="w-full rounded border p-2"/></div> <button type="button" class="btn preset-filled-secondary-500"><span>Search</span> <!></button> <div class="min-h-[100px] rounded border p-4"><!></div> <!></div>'),Rt=L('<!> <div class="flex flex-col p-6"><div class="mb-6 flex items-center justify-between border-b pb-3"><h1 class="h1">📋 Query View</h1> <button class="btn preset-tonal-primary">Add</button></div> <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"></div></div>',1);function jt(e,t){Z(t,!0);const a=yt({placement:"top-end"});let s=ne(oe([])),r={},n=ne(oe(new Map));const u=(p=!0)=>{const l=Date.now(),x={id:l.toString(),bucket:"",key:"",results:"",canDelete:p?"true":"false"};c(n).set(l,x),J(n,new Map(c(n)),!0)},d=p=>{c(n).has(p)?(c(n).delete(p),J(n,new Map(c(n)),!0)):console.warn(`Query with ID ${p} does not exist.`)},f=async p=>{const l=c(n).get(Number(p));if(!l||!l.bucket||!l.key){a.error({title:"Please select a bucket and enter a key name before searching.",closable:!0});return}const x=await Je(l.bucket,l.key);x?.value?l.results=x.value:(l.results="No results found",console.warn(`No results found for ID ${p}`),a.error({title:`No results found for bucket: ${l.bucket} and key: ${l.key}`,closable:!0})),c(n).set(Number(p),l),J(n,new Map(c(n)),!0)},T=(p,l)=>{if(c(n).has(Number(l))){const x=c(n).get(Number(l));x&&(x.bucket=p.target.value)}},g=(p,l)=>{if(c(n).has(Number(l))){const x=c(n).get(Number(l));x&&(x.key=p.target.value)}};Se(async()=>{u(!1),r=(await Xe()).bucketDetails,J(s,Object.keys(r),!0)});var v=Rt(),k=ve(v);vt(k,{get toaster(){return a}});var m=P(k,2),y=w(m),E=P(w(y),2);E.__click=[Tt,u],S(y);var F=P(y,2);ae(F,21,()=>Array.from(c(n).values()),p=>p.id+p.results,(p,l,x)=>{var h=Ot(),B=w(h),O=P(w(B),2);O.__change=[Et,T,l],ae(O,21,()=>c(s),Re,(D,_)=>{var b=xt(),C=w(b,!0);S(b);var ie={};z(()=>{X(C,c(_)),ie!==(ie=c(_))&&(b.value=(b.__value=c(_))??"")}),N(D,b)}),S(O);var A;Ce(O),S(B);var H=P(B,2),U=P(w(H),2);Me(U),U.__change=[kt,g,l],S(H);var G=P(H,2);G.__click=[St,f,l];var re=P(w(G),2);Ye(re,{size:18}),S(G);var i=P(G,2),o=w(i);{var M=D=>{var _=_t(),b=w(_,!0);S(_),z(C=>X(b,C),[()=>Qe(c(l).results)]),N(D,_)},R=D=>{var _=It(),b=w(_,!0);S(_),z(()=>X(b,c(l).results?c(l).results:"No results found")),N(D,_)};se(o,D=>{ze(c(l).results)?D(M):D(R,!1)})}S(i);var j=P(i,2);{var V=D=>{var _=wt();_.__click=[Dt,d,l];var b=P(w(_),2);bt(b,{size:18}),S(_),N(D,_)};se(j,D=>{c(l).canDelete==="true"&&D(V)})}S(h),z(()=>{A!==(A=c(l).bucket)&&(O.value=(O.__value=c(l).bucket)??"",Ne(O,c(l).bucket))}),Fe(U,()=>c(l).key,D=>c(l).key=D),N(p,h)}),S(F),S(m),N(e,v),q()}we(["click","change"]);export{jt as component};
