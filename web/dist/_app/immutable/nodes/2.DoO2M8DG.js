import"../chunks/NZTpNUN0.js";import{i as J}from"../chunks/zblmva9L.js";import{p as N,f as v,t as h,i as e,a4 as O,b as l,c as q,s as d,d as r,r as o,m as f,j as s,a5 as z,e as C}from"../chunks/C1Edc7dV.js";import{i as w}from"../chunks/CxJ1uyfW.js";import{r as E}from"../chunks/BMZcrs9R.js";import{b as G}from"../chunks/BAdnpIVk.js";import{s as H}from"../chunks/D8UV-Kry.js";function K(u){sessionStorage.setItem("db_config",JSON.stringify(u))}var L=v('<span class="animate-pulse">Connectingâ€¦</span>'),M=v('<p class="mt-2 text-sm text-green-600"> </p>'),Q=v('<p class="mt-2 text-sm text-red-600"> </p>'),R=v('<div class="card preset-filled-surface-100-900 bg-card mx-auto mt-10 w-full max-w-2xl space-y-6 rounded-xl border p-4 p-6 text-center shadow-lg"><h1 class="h1 text-center">ðŸ”— Connect to Database</h1> <div><label for="db-path" class="text-muted-foreground mb-2 block text-sm font-medium">BoltDB File Path</label> <input id="db-path" type="text" placeholder="/path/to/database.db" class="input"/></div> <div class="flex justify-end"><button class="btn preset-tonal-primary"><!></button></div> <!> <!></div>');function $(u,P){N(P,!1);let b=f(""),p=f(""),i=f(""),c=f(!1);async function D(){s(c,!0),s(i,""),s(p,"");const t={dbFilePath:e(b)};try{const{data:a,status:n}=await H(t);s(c,!1),a.message?s(p,a.message):s(i,a.error||"An unknown error occurred"),n==200&&(K(t),window.location.href="/bucket")}catch{s(i,"Something went wrong. Please try again")}}J();var _=R(),x=d(r(_),2),y=d(r(x),2);E(y),o(x);var g=d(x,2),m=r(g),S=r(m);{var j=t=>{var a=L();l(t,a)},B=t=>{var a=z("Connect");l(t,a)};w(S,t=>{e(c)?t(j):t(B,!1)})}o(m),o(g);var k=d(g,2);{var F=t=>{var a=M(),n=r(a,!0);o(a),h(()=>C(n,e(p))),l(t,a)};w(k,t=>{e(p)&&t(F)})}var A=d(k,2);{var I=t=>{var a=Q(),n=r(a,!0);o(a),h(()=>C(n,e(i))),l(t,a)};w(A,t=>{e(i)&&t(I)})}o(_),h(()=>m.disabled=e(c)),G(y,()=>e(b),t=>s(b,t)),O("click",m,D),l(u,_),q()}export{$ as component};
